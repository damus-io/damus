{"id":"damus-1aq","title":"NIP-07: Add Safari extension setup UI in Damus settings","description":"Add settings section to guide users to enable extension in Safari settings.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:49:03.243728-06:00","created_by":"e","updated_at":"2026-01-05T23:28:04.327943-06:00","closed_at":"2026-01-05T23:28:04.327943-06:00","close_reason":"Added SafariExtensionSettingsView with setup instructions and Open Settings button. Added route and navigation link in ConfigView.","labels":["nip-07"]}
{"id":"damus-1ri","title":"Comingle: Support read-only mode with external signer","description":"When using external signer, user doesn't have local keypair. Support login with just npub, then delegate all signing to external signer. Update SignInView to allow npub-only login when external signer is configured.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:33:14.609065-06:00","created_by":"e","updated_at":"2026-01-05T23:58:31.7734-06:00","closed_at":"2026-01-05T23:58:31.7734-06:00","close_reason":"Updated SignInView to show appropriate footer when using npub with external signer. Added @AppStorage for useExternalSigner preference.","labels":["comingle","dip-05"]}
{"id":"damus-399","title":"NIP-07: Align Damoose App Group with main app (group.com.damus)","description":"Ensure Damoose extension uses same App Group as main app for shared UserDefaults access.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:48:56.894774-06:00","created_by":"e","updated_at":"2026-01-05T22:56:27.895164-06:00","closed_at":"2026-01-05T22:56:27.895164-06:00","close_reason":"Closed","labels":["nip-07"]}
{"id":"damus-5vq","title":"NIP-07: Wire popup approval UI to SigningPolicyManager","description":"signEvent now works directly in extension. Popup approval UI is functional. TODO: Integrate with SigningPolicyManager for remembered permissions and kind-based policies.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:48:56.800249-06:00","created_by":"e","updated_at":"2026-01-05T23:25:45.012115-06:00","closed_at":"2026-01-05T23:25:45.012115-06:00","close_reason":"Implemented permission storage and remember checkbox. Popup now checks saved permissions before showing. JS and Swift handlers updated.","labels":["nip-07"]}
{"id":"damus-624","title":"NIP-07: Restore jb55's Damoose extension from origin/extension branch","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:48:45.202461-06:00","created_by":"e","updated_at":"2026-01-05T22:51:55.963827-06:00","closed_at":"2026-01-05T22:51:55.963827-06:00","close_reason":"Restored Damoose extension from origin/extension, added target to Xcode project, fixed Info.plist","labels":["nip-07"]}
{"id":"damus-77k","title":"Comingle: Register callback URL scheme for signer responses","description":"Register comingle:// (or similar) URL scheme in Info.plist to receive signed event callbacks from Damus signer. Handle incoming URL and complete pending signing requests.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:33:14.510039-06:00","created_by":"e","updated_at":"2026-01-05T23:56:54.669006-06:00","closed_at":"2026-01-05T23:56:54.669006-06:00","close_reason":"Registered comingle:// URL scheme in Info.plist CFBundleURLTypes. Added handleCallback in ExternalSigner and onOpenURL handler in ComingleApp.","labels":["comingle","dip-05"]}
{"id":"damus-81o","title":"Comingle: Add external signer selection UI in settings","description":"Add settings screen for users to choose between local signing (keypair in keychain) vs external signer (Damus via NIP-55). Store preference in UserDefaults.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:33:14.305841-06:00","created_by":"e","updated_at":"2026-01-05T23:57:48.881982-06:00","closed_at":"2026-01-05T23:57:48.881982-06:00","close_reason":"Created SignerSettingsView with toggle for external signer and status display. Added navigation link in SettingsView. Uses @AppStorage for persistence.","labels":["comingle","dip-05"]}
{"id":"damus-964","title":"Comingle: Refactor CreateProfileView for external signing","description":"Apply the external signing pattern to CreateProfileView. Add UnsignedEventBuilder methods for metadata and followList events. Use ExternalSigner when no local keypair.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:01:45.288429-06:00","created_by":"e","updated_at":"2026-01-06T00:13:08.364447-06:00","closed_at":"2026-01-06T00:13:08.364447-06:00","close_reason":"Added UnsignedEventBuilder.metadataEvent and followListEvent for completeness. CreateProfileView is for local keypair creation - external signer users should use SignInView with their npub since they already have keys in Damus.","labels":["comingle","dip-05"]}
{"id":"damus-gtf","title":"NIP-07: Implement signEvent in native handler","description":"signEvent stores request in shared storage for main app to process. Requires JS-side updates to open nostrsigner:// URL and poll via checkResult. Native handler checkResult implemented for polling.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:48:56.706037-06:00","created_by":"e","updated_at":"2026-01-05T23:00:49.517762-06:00","closed_at":"2026-01-05T23:00:49.517762-06:00","close_reason":"Closed","labels":["nip-07"]}
{"id":"damus-h5x","title":"Comingle: Refactor EventCreating to support async external signing","description":"Current signing is synchronous via signedBy: keypair. Refactor to support async flow: build unsigned event, call nostrsigner://, await callback with signed event. Affects CreateOrModifyCalendarView, CreateOrModifyEventView, EventView, CreateProfileView.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:33:14.409777-06:00","created_by":"e","updated_at":"2026-01-06T00:00:16.588338-06:00","closed_at":"2026-01-06T00:00:16.588338-06:00","close_reason":"Created EventSigningService and UnsignedEventBuilder utilities. Refactored EventView.createOrUpdateRSVP to support both local and external signing. External signing uses ExternalSigner.requestSignEvent with callback handling.","labels":["comingle","dip-05"]}
{"id":"damus-i7r","title":"Examine Comingle iOS app for gaps against Damus signer interaction","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:53:43.645549-06:00","created_by":"e","updated_at":"2026-01-05T23:32:12.099974-06:00","closed_at":"2026-01-05T23:32:12.099974-06:00","close_reason":"Analyzed Comingle iOS app. Gaps: No NIP-55 support (nostrsigner://), no external signer UI, hard-coded local signing via NostrSDK EventCreating protocol, no read-only mode for signing operations."}
{"id":"damus-mfz","title":"Comingle: Refactor CreateOrModifyCalendarView for external signing","description":"Apply the external signing pattern to CreateOrModifyCalendarView. Add UnsignedEventBuilder.calendarList and use ExternalSigner for calendar creation when no local keypair.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:01:45.188278-06:00","created_by":"e","updated_at":"2026-01-06T00:12:17.083002-06:00","closed_at":"2026-01-06T00:12:17.083002-06:00","close_reason":"Added UnsignedEventBuilder.calendarListEvent. Refactored ViewModel with canSign, isSaving, saveError, onSaveSuccess. Updated save to support local and external signing.","labels":["comingle","dip-05"]}
{"id":"damus-qtm","title":"Comingle: Refactor CreateOrModifyEventView for external signing","description":"Apply the external signing pattern from EventView to CreateOrModifyEventView. Use UnsignedEventBuilder.timeBasedCalendarEvent and ExternalSigner for event creation when no local keypair.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T00:01:45.075757-06:00","created_by":"e","updated_at":"2026-01-06T00:10:55.545802-06:00","closed_at":"2026-01-06T00:10:55.545802-06:00","close_reason":"Added canSign check, refactored saveEvent to support local and external signing, added isSaving state and error handling, updated toolbar with progress indicator.","labels":["comingle","dip-05"]}
{"id":"damus-qz8","title":"Update Damoose JS to handle signEvent delegation (open URL, poll checkResult)","description":"The native handler now stores signEvent requests. JS side needs to: 1) Detect nil response from signEvent, 2) Open nostrsigner:// URL, 3) Poll checkResult for signed event","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:01:00.455983-06:00","created_by":"e","updated_at":"2026-01-05T23:17:31.404215-06:00","closed_at":"2026-01-05T23:17:31.404215-06:00","close_reason":"Closed"}
{"id":"damus-s9o","title":"Comingle: Add DIP-05 nostrsigner:// URL scheme handler","description":"Implement nostrsigner:// URL scheme handling to delegate signing to external apps like Damus. Register URL scheme in Info.plist and handle incoming callbacks.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T23:32:44.114107-06:00","created_by":"e","updated_at":"2026-01-05T23:56:54.588949-06:00","closed_at":"2026-01-05T23:56:54.588949-06:00","close_reason":"Created ExternalSigner.swift with buildSignEventURL, buildGetPublicKeyURL, requestSignEvent, requestPublicKey methods. Added nostrsigner to LSApplicationQueriesSchemes.","labels":["comingle","dip-05"]}
{"id":"damus-ydw","title":"NIP-07: Wire native handler to SharedKeychainStorage for getPublicKey","description":"Replace hardcoded pubkey in SafariWebExtensionHandler with SharedKeychainStorage.getPublicKey()","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T22:48:56.611017-06:00","created_by":"e","updated_at":"2026-01-05T22:56:27.865697-06:00","closed_at":"2026-01-05T22:56:27.865697-06:00","close_reason":"Closed","labels":["nip-07"]}
