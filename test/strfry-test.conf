# strfry config for CI testing - permissive write policy
# See: https://github.com/hoytech/strfry/blob/master/strfry.conf

db = "/app/strfry-db/"

relay {
    bind = "0.0.0.0"
    port = 7777

    info {
        name = "damus-test-relay"
        description = "Test relay for damus CI"
    }

    maxWebsocketPayloadSize = 131072
    autoPingSeconds = 55
    enableTcpKeepalive = false
    queryTimesliceBudgetMicroseconds = 10000
    maxFilterLimit = 500
    maxSubsPerConnection = 20

    writePolicy {
        # Empty plugin = accept all events (no restrictions)
        plugin = ""
    }

    compression {
        enabled = true
        slidingWindow = true
    }
}
